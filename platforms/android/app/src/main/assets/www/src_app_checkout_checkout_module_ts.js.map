{"version":3,"file":"src_app_checkout_checkout_module_ts.js","mappings":"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","sources":["./src/app/checkout/checkout-routing.module.ts","./src/app/checkout/checkout.module.ts","./src/app/checkout/checkout.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CheckoutPage } from './checkout.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CheckoutPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CheckoutPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CheckoutPageRoutingModule } from './checkout-routing.module';\n\nimport { CheckoutPage } from './checkout.page';\nimport {SharedModule} from '../shared/shared.module';\nimport {IonicSelectableModule} from \"ionic-selectable\";\n\n@NgModule({\n  imports: [\n    SharedModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    IonicSelectableModule,\n    CheckoutPageRoutingModule\n  ],\n  declarations: [CheckoutPage]\n})\nexport class CheckoutPageModule {}\n","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {ApiService} from '../services/api.service';\nimport {CartService} from '../services/cart.service';\nimport {AlertController, IonSelect, NavController} from '@ionic/angular';\nimport {FormBuilder, FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport {EventsService} from '../services/events.service';\nimport {Storage} from '@ionic/storage-angular';\nimport {ConfigService} from \"../services/config.service\";\nimport {IonicSelectableComponent} from \"ionic-selectable\";\nimport {Subscription} from \"rxjs\";\n@Component({\n  selector: 'app-checkout',\n  templateUrl: './checkout.page.html',\n  styleUrls: ['./checkout.page.scss'],\n})\nexport class CheckoutPage implements OnInit {\n  @ViewChild('paymentType', {static: false}) paymentType: IonSelect;\n  @ViewChild('deliveryType', {static: false}) deliveryType: IonSelect;\n  private authorized = false;\n  private isLoading = false;\n  private isLoadingPromo = false;\n  private isCancelPromo = false;\n  private priborshow = true;\n  public oplatashow:boolean = false;\n  portsSubscription: Subscription;\n  cartSum = 0;\n  private deliv: FormGroup;\n  private sklad: FormGroup;\n  private oplata: FormGroup;\n  private money: FormGroup;\n  private bonus: FormGroup;\n  private promo: FormGroup;\n  private dopinfo: FormGroup;\n  public sposobi:Array<any> = [];\n  public cashPay:Array<any> = [];\n  public cardPay:Array<any> = [];\n  public cities:Array<any> = [];\n  public points:Array<any> = [];\n  public streets:Array<any> = [];\n  public addedDishes :Array<any> = [];\n  private userphone: string = '';\n  private userid: string = '';\n  private sposoboplat: string = '';\n  private promouse: string = '';\n  // private sumCart: number = 0;\n  private adminUser = false;\n  private is_iiko = false;\n  private is_bonus = false;\n  private smsnumber: string = '';\n  public btnSmsShow = false;\n  public btnKodSend = true;\n  public smsSend = false;\n  public btnSend = true;\n  public btnSendPreload = false;\n  private userdelivery = '2';\n  public bonusval:number;\n  public max_bonuses = '';\n  public max_bonusesval:number;\n\n  constructor(\n    private api: ApiService,\n    private cart: CartService,\n    public alertController: AlertController,\n    private navCtrl: NavController,\n    private formBuilder: FormBuilder,\n    public events: EventsService,\n    private storage: Storage,\n    private config: ConfigService,\n  ) {\n\n    this.storage.get('user').then((res)=>{\n      console.log('userOBJ',res);\n      if(res && res.hasOwnProperty('id')){\n        this.authorized = true;\n        this.userid = res['id'];\n        this.userphone = res['phone'];\n        console.log(\"this.authorized1111\",this.userphone);\n        this.getBonuses();\n      }\n    });\n  }\n  searchPorts(event: {\n    component: IonicSelectableComponent,\n    text: string\n  }) {\n    let text = event.text.trim().toLowerCase();\n    event.component.startSearch();\n    if (!text) {\n      event.component.items = [];\n      event.component.endSearch();\n      return;\n    }\n      event.component.items = this.filterPorts(this.streets, text);\n      event.component.endSearch();\n  }\n  filterPorts(ports , text: string) {\n    return ports.filter(port => {\n      return port.title.toLowerCase().indexOf(text) !== -1;\n    });\n  }\n  private validationMessages = {\n    phone: [\n      {type: 'required', message: 'Телефон обязателен'},\n      {type: 'minlength', message: 'Недостаточно цифр'},\n      {type: 'pattern', message: 'Некорректный телефон'},\n    ],\n    smsnumber: [\n      {type: 'required', message: 'Введите код'},\n      {type: 'minlength', message: 'Необходимо 4 цифры'},\n      {type: 'maxlength', message: 'Необходимо 4 цифры'},\n      {type: 'pattern', message: 'Только цифры!'},\n    ],\n    delstreet: [\n      {type: 'required', message: 'Введите улицу'},\n      {type: 'minlength', message: 'Недостаточно букв'},\n      {type: 'maxlength', message: 'Слишком длинное'},\n    ],\n    deliveryadr: [\n      {type: 'required', message: 'Выберите город'}\n    ],\n    skladname: [\n      {type: 'required', message: 'Выберите город'}\n    ],\n    delivery: [\n      {type: 'required', message: 'Выберите способ доставки'}\n    ],\n    varpay: [\n      {type: 'required', message: 'Выберите способ оплаты'}\n    ],\n    pointname: [\n      {type: 'required', message: 'Выберите заведение'}\n    ],\n    iikostreet: [\n      {type: 'required', message: 'Выберите улицу'}\n    ],\n    dopname: [\n      {type: 'maxlength', message: 'Слишком длинное'},\n    ],\n    delhouse: [\n      {type: 'required', message: 'Выберите дом'},\n      {type: 'maxlength', message: 'Слишком длинное'},\n    ],\n    delappart: [\n      {type: 'maxlength', message: 'Слишком длинное'},\n    ],\n    entrance: [\n      {type: 'maxlength', message: 'Слишком длинное'},\n    ],\n    floor: [\n      {type: 'maxlength', message: 'Слишком длинное'},\n    ],\n    comment: [\n      {type: 'maxlength', message: 'Слишком длинное'},\n    ],\n    pribor: [\n      {type: 'max', message: 'Слишком много'},\n    ],\n    bonusvalform: [\n      {type: 'max', message: 'Вы привысили максимум списания бонусов'},\n      {type: 'min', message: 'Минимальное количество 0'},\n    ],\n   promovalform: [\n     {type: 'required', message: 'Введите промокод'},\n      {type: 'maxlength', message: 'Слишком длинный'},\n      {type: 'minlength', message: 'Слишком мало символов'},\n    ],\n  };\n\n  ngOnInit() {\n    console.log('CHECK', this.config.defaultSettings);\n    this.is_iiko = this.config.defaultSettings['is_iiko'];\n    this.is_bonus = this.config.defaultSettings['is_bonus'];\n    if(this.config.defaultSettings.hasOwnProperty('max_bonuses')){\n      this.max_bonuses = this.config.defaultSettings['max_bonuses'];\n    }\nconsole.log('this.max_bonuses',this.max_bonuses);\n    this.addedDishes = this.cart.getAddedDishes();\n    this.cartSum = this.cart.getDishesSum();\n\n    this.getBonuses();\n\n    this.promo = this.formBuilder.group({\n      promovalform: new FormControl('',[Validators.required, Validators.maxLength(10),Validators.minLength(4)])\n    });\n\n    this.api.getApi('iiko_payments',{}).then(result => {\n      if(result.hasOwnProperty('data')){\n        this.sposobi = result['data'];\n        this.sposobi.forEach( value =>{\n          if(value.article=='CASH'){\n            this.cashPay = value;\n            this.money = this.formBuilder.group({\n              moneyval: new FormControl(''),\n            });\n          }\n          if(value.article=='CARD'){\n            this.cardPay = value;\n          }\n         console.log(value);\n        });\n      }\n    });\n\n    this.api.getApi('deliveryTypes',{}).then(result => {\n      console.log('deliveryTypes',result);\n\n    });\n\n\n    console.log('is_iiko', this.is_iiko);\n    this.getCities();\n    this.deliv = this.formBuilder.group({\n      delivery: new FormControl('2', Validators.required),\n    });\n    this.sklad = this.formBuilder.group({});\n    if(this.sposobi){\n      this.oplata = this.formBuilder.group({\n        varpay: new FormControl('', Validators.required),\n      });\n      // this.oplata.controls.sposoboplat.reset();\n      if(this.cashPay){\n        // this.oplata.controls.varpay.reset('1');\n        // this.money.setControl('moneyval', new FormControl('', Validators.compose([])));\n      }\n    }\n\n\n\n    this.dopinfo = this.formBuilder.group({\n      // dopname: new FormControl('', [Validators.maxLength(25)]),\n      pribor: new FormControl('0', [Validators.max(25)]),\n      comment: new FormControl('', [Validators.maxLength(200)]),\n    });\n\n    console.log('NNNN111',this.max_bonuses);\n    console.log('NNNN222',parseInt(this.max_bonuses)*this.cartSum /100);\n    console.log('NNNN333',this.bonusval);\n\n\n\n    console.log('addedDishes', this.addedDishes );\n    console.log('cartSum', this.cartSum);\n    // this.sklad.removeControl('skladname');\n    this.oplatashow = true;\n    // this.oplata.controls.sposoboplat.reset();\n    this.sklad.setControl('deliveryadr', new FormControl('', Validators.compose([Validators.required])));\n    if(this.is_iiko){\n      this.sklad.setControl('iikostreet', new FormControl('', Validators.compose([Validators.required])));\n    } else {\n      this.sklad.setControl('delstreet', new FormControl('', Validators.compose([Validators.required, Validators.minLength(4), Validators.maxLength(60)])));\n    }\n    this.sklad.setControl('delhouse', new FormControl('', Validators.compose([Validators.required,Validators.maxLength(60)])));\n    this.sklad.setControl('delappart', new FormControl('', Validators.compose([Validators.maxLength(60)])));\n    this.sklad.setControl('entrance', new FormControl('', Validators.compose([Validators.maxLength(20)])));\n    this.sklad.setControl('floor', new FormControl('', Validators.compose([Validators.maxLength(20)])));\n\n  }\ngetBonuses(){\n  if(this.is_bonus){\n    console.log('this.userphone000', this.userphone);\n    // console.log('this.userphone000', Profile.personPhone);\n    this.api.getBonus('clients',{phone:this.userphone}).then(result => {\n      console.log('result',result);\n      console.log('this.userphone@@@', this.userphone);\n      if(result.hasOwnProperty('data')){\n        console.log('this.userphone', this.userphone);\n        if(result['data']){\n\n          this.bonusval = result['data'];\n        } else {\n          console.log('000000');\n          this.bonusval = 0;\n        }\n      } else {\n        console.log('ELSE000000');\n        this.bonusval = 0;\n      }\n      if(this.max_bonuses){\n        this.max_bonusesval = parseInt(this.max_bonuses)*this.cartSum /100 <= this.bonusval ? parseInt(this.max_bonuses)*this.cartSum /100 : this.bonusval;\n        console.log('NNNN',this.max_bonusesval);\n        this.bonus = this.formBuilder.group({\n          bonusvalform: new FormControl('',[Validators.max(this.max_bonusesval),Validators.min(0)])\n        });\n      } else {\n        this.max_bonusesval = this.bonusval;\n        this.bonus = this.formBuilder.group({\n          bonusvalform: new FormControl('',[Validators.max(this.bonusval),Validators.min(0)])\n        });\n      }\n    });\n  }\n}\n  onItemRadio(event) {\n    if (event != undefined) {\n      this.userdelivery = event.detail.value;\n      console.log('this.userdelivery', this.userdelivery);\n      if (this.userdelivery == '2') {\n        this.sklad.removeControl('skladname');\n        this.sklad.removeControl('pointname');\n        this.oplatashow = true;\n        // this.oplata.controls.sposoboplat.reset();\n        if(this.is_iiko){\n          this.sklad.setControl('iikostreet', new FormControl('', Validators.compose([Validators.required])));\n        } else {\n          this.sklad.setControl('delstreet', new FormControl('', Validators.compose([Validators.required, Validators.minLength(4), Validators.maxLength(60)])));\n        }\n        this.sklad.setControl('deliveryadr', new FormControl('', Validators.compose([Validators.required])));\n\n        this.sklad.setControl('delhouse', new FormControl('', Validators.compose([Validators.required, Validators.maxLength(60)])));\n        this.sklad.setControl('delappart', new FormControl('', Validators.compose([Validators.maxLength(60)])));\n        this.sklad.setControl('entrance', new FormControl('', Validators.compose([Validators.maxLength(20)])));\n        this.sklad.setControl('floor', new FormControl('', Validators.compose([Validators.maxLength(20)])));\n\n      }\n      if (this.userdelivery == '1') {\n        this.sklad.setControl('skladname', new FormControl('', Validators.compose([Validators.required, ])));\n        this.sklad.setControl('pointname', new FormControl('', Validators.compose([Validators.required, ])));\n        // this.oplata.setControl('sposoboplat', new FormControl('', Validators.compose([Validators.required, ])));\n        // this.sklad.controls.skladname.reset(this.Acfregion[0]);\n        this.oplatashow = true;\n        // this.oplata.controls.sposoboplat.reset('В заведении');\n        this.sklad.removeControl('deliveryadr');\n        console.log('this.is_iiko',this.is_iiko);\n        if(this.is_iiko){\n          this.sklad.removeControl('iikostreet');\n        } else {\n          this.sklad.removeControl('delstreet');\n        }\n        this.sklad.removeControl('delhouse');\n        this.sklad.removeControl('delappart');\n        this.sklad.removeControl('entrance');\n        this.sklad.removeControl('floor');\n      }\n\n    } else {\n    }\n  }\n  onItemPoints(event) {\n    console.log('events', event);\n    if (event != undefined) {\n\n      this.sklad.controls.pointname.reset();\n      // this.sklad.removeControl('points');\n      this.api.getApi('stores',{'city_id' : event.detail.value}).then(result => {\n        console.log('points', result);\n        if(result.hasOwnProperty('data') && result['data']){\n          this.points = result['data'];\n          console.log(' this.points',  this.points);\n          // this.sklad.setControl('points', new FormControl('', Validators.compose([Validators.required, ])));\n          // this.sklad.controls.pointname.reset();\n          // console.log('points', this.cities[0]['id']);\n          // this.sklad.controls.deliveryadr.reset(this.cities[0]['id'])\n          // this.sklad.controls['deliveryadr'].setValue(this.cities[0]['id'], {onlySelf: true});\n          // this.sklad.patchValue({\n          //   'deliveryadr': this.cities[0]['id']\n          // });\n        }\n        else {\n          this.points = [];\n        }\n      });\n      // this.userdelivery = event.detail.value;\n      console.log('onItemPoints', event.detail.value);\n      // if (this.userdelivery == 'Самовывоз') {\n      //   this.sklad.setControl('skladname', new FormControl('', Validators.compose([Validators.required, ])));\n      //   // this.oplata.setControl('sposoboplat', new FormControl('', Validators.compose([Validators.required, ])));\n      //   // this.sklad.controls.skladname.reset(this.Acfregion[0]);\n      //   this.oplatashow = true;\n      //   this.oplata.controls.sposoboplat.reset('В заведении');\n      //   this.sklad.removeControl('deliveryadr');\n      //   this.sklad.removeControl('delstreet');\n      //   this.sklad.removeControl('delhouse');\n      //   this.sklad.removeControl('delappart');\n      // }\n      // if (this.userdelivery == 'Доставка') {\n      //   this.sklad.removeControl('skladname');\n      //   this.oplatashow = true;\n      //   this.oplata.controls.sposoboplat.reset();\n      //   this.sklad.setControl('deliveryadr', new FormControl('', Validators.compose([Validators.required])));\n      //   this.sklad.setControl('delstreet', new FormControl('', Validators.compose([Validators.required, Validators.minLength(4), Validators.maxLength(60)])));\n      //   this.sklad.setControl('delhouse', new FormControl('', Validators.compose([Validators.maxLength(60)])));\n      //   this.sklad.setControl('delappart', new FormControl('', Validators.compose([Validators.maxLength(60)])));\n      //\n      // }\n    } else {\n\n    }\n  }\n  triggerChange($event) {\n    if($event.detail.checked){\n      this.dopinfo.controls.pribor.reset(1);\n      this.priborshow = false;\n    } else {\n      this.dopinfo.controls.pribor.reset(0);\n      this.priborshow = true;\n    }\n  }\n  getCities() {\n    this.cities = this.cart.cities;\n    console.log('DDDATA',this.cities);\n  }\n  onItemCity(event) {\n    console.log('SRTART STREET');\n    if(this.is_iiko){\n      this.streets = [];\n      this.sklad.controls.iikostreet.reset();\n      console.log('SRTART STREET111');\n      // console.log('events', event.detail.value);\n      if (event != undefined) {\n        let tempElem = this.cities.filter(item => item['id'] == event.detail.value);\n        if (tempElem.length){\n          this.streets = tempElem[0]['street'];\n        } else {\n          this.streets = [];\n        }\n        console.log('this.streets', this.streets);\n      }\n    }\n\n  }\n  // chooseStreet(id){\n  //   this.sklad.controls.iikostreet.reset(id);\n  // }\n  // startSearch(event){\n  //   const query = event.target.value.toLowerCase();\n  //   console.log('query',query);\n  //   requestAnimationFrame(() => {\n  //     const items = Array.from(document.querySelector('ul.cities_list').children);\n  //     items.forEach((item) => {\n  //       const shouldShow = item.textContent.toLowerCase().indexOf(query) > -1;\n  //       item.className = shouldShow ? 'block' : 'none';\n  //     });\n  //   });\n  // };\n  onMoneyRadio(event) {\n    if (event != undefined) {\n      this.sposoboplat = event.detail.value;\n      console.log('this.money',this.money);\n      if (this.cashPay && this.sposoboplat == this.cashPay['id']) {\n        this.money.setControl('moneyval', new FormControl('', Validators.compose([])));\n      }\n      if (this.cardPay && this.sposoboplat == this.cardPay['id']) {\n        this.money.removeControl('moneyval');\n\n      }\n    }\n  }\n\n  eventCaught(event : boolean) {\n    if(event){\n      this.makeOrder();\n    }\n  }\n\n  getPromo() {\n    if (this.isLoadingPromo) {\n      return;\n    }\n    this.isLoadingPromo = true;\n    for (let control in this.promo.controls) {\n      if (this.promo.controls.hasOwnProperty(control)) {\n        this.promo.controls[control].markAsTouched();\n      }\n    }\n    if (this.promo.status === 'INVALID') {\n      this.isLoadingPromo = false;\n      return;\n    }\n    let promoval  = this.promo.value.promovalform;\n    console.log('PROMO=', promoval);\n    // let promoOrder['client_phone'] =;\n    return new Promise((resolve) => {\n      this.api.getApi('promocodes',{code:promoval, client_phone:this.userphone,is_alive:true, limit:1}).then(result => {\n        console.log('promocodes', result);\n        if(result['status']=='200'){\n          this.isLoadingPromo = false;\n\n          if(result['data'].length){\n            this.isCancelPromo = true;\n            this.promouse = promoval;\n          if(result['data'][0]['discount_type']['value']=='percent'){\n            let sum = parseInt(result['data'][0]['discount_sum']);\n            this.cart.sum = Math.ceil(this.cart.sum - this.cart.sum * sum /100);\n          }\n          if(result['data'][0]['discount_type']['value']=='fixed'){\n            let sum = parseInt(result['data'][0]['discount_sum']);\n            this.cart.sum = Math.ceil(this.cart.sum - sum);\n          }\n          } else{\n            this.api.alertMessage('Проверьте промокод,',\n              'Нет информации по данному промокоду');\n          }\n        } else {\n          this.isLoadingPromo=false;\n          this.api.alertMessage('Искренне сожалеем,',\n            'произошла ошибка при проверке промокода. Попробуйте чуть позже.');\n        }\n      });\n\n    });\n  }\n  clearPromo(){\n    this.promo.controls.promovalform.reset('');\n    this.isCancelPromo = false;\n    this.cart.sum = this.cartSum;\n  }\n    makeOrder(){\n    console.log('makeOrder');\n    console.log('this.isLoading', this.isLoading);\n    if (this.isLoading) {\n      return;\n    }\n    this.isLoading = true;\n    for (let control in this.sklad.controls) {\n      if (this.sklad.controls.hasOwnProperty(control)) {\n        this.sklad.controls[control].markAsTouched();\n      }\n    }\n    for (let control in this.deliv.controls) {\n      if (this.deliv.controls.hasOwnProperty(control)) {\n        this.deliv.controls[control].markAsTouched();\n      }\n    }\n    for (let control in this.oplata.controls) {\n      if (this.oplata.controls.hasOwnProperty(control)) {\n        this.oplata.controls[control].markAsTouched();\n      }\n    }\n    for (let control in this.money.controls) {\n      if (this.money.controls.hasOwnProperty(control)) {\n        this.money.controls[control].markAsTouched();\n      }\n    }\n    // for (let control in this.bonus.controls) {\n    //   if (this.bonus.controls.hasOwnProperty(control)) {\n    //     this.bonus.controls[control].markAsTouched();\n    //   }\n    // }\n    // console.log('this.sklad.status', this.sklad.status);\n    // console.log('this.sklad.contains', this.sklad.value);\n    // console.log('this.deliv.status', this.deliv.status);\n    // console.log('this.oplata.status', this.oplata.status);\n    // console.log('this.money.status', this.money.status);\n    if (this.sklad.status === 'INVALID') {\n      this.isLoading = false;\n      return;\n    }\n    if (this.deliv.status === 'INVALID') {\n      this.isLoading = false;\n      return;\n    }\n    if (this.oplata.status === 'INVALID') {\n      this.isLoading = false;\n      return;\n    }\n    if (this.money.status === 'INVALID') {\n      this.isLoading = false;\n      return;\n    }\n    // if (this.bonus.status === 'INVALID') {\n    //   this.isLoading = false;\n    //   return;\n    // }\n\n    let dataOrder = {};\n    dataOrder['source'] ='mobile-app';\n    if(this.promouse){\n      dataOrder['promocode'] =this.promouse;\n    }\n    dataOrder['client_phone'] =this.userphone;\n    dataOrder['client_id'] =this.userid;\n    dataOrder['deliveryType_id'] = this.deliv.value.delivery ? this.deliv.value.delivery : 1;\n    dataOrder['count_devices'] = this.dopinfo.value.pribor;\n    dataOrder['comment'] = this.dopinfo.value.comment ? this.dopinfo.value.comment : '';\n    if(this.deliv.value.delivery=='2'){\n      dataOrder['iiko_city_id'] = this.sklad.value.deliveryadr;\n      if(this.is_iiko){\n        console.log('this.sklad.value.iikostreet', this.sklad.value.iikostreet.id);\n        dataOrder['iiko_street_id'] = this.sklad.value.iikostreet.id;\n      } else {\n        dataOrder['iiko_street_id'] = this.sklad.value.delstreet;\n      }\n      dataOrder['delivery_house'] = this.sklad.value.delhouse ? this.sklad.value.delhouse : '';\n      dataOrder['delivery_apartment'] = this.sklad.value.delappart ? this.sklad.value.delappart : '';\n      dataOrder['delivery_entrance'] = this.sklad.value.entrance ? this.sklad.value.entrance : '';\n      dataOrder['delivery_floor'] = this.sklad.value.floor ? this.sklad.value.floor : '';\n    }\n    if(this.deliv.value.delivery=='1'){\n      dataOrder['iiko_city_id'] = this.sklad.value.skladname;;\n      dataOrder['iiko_cashbox_id'] = this.sklad.value.pointname;\n\n    }\n    dataOrder['iiko_payment_id'] = this.oplata.value.varpay;\n\n    if(this.oplata.value.varpay=='1'){\n      dataOrder['comment'] = this.money.value.moneyval ? dataOrder['comment'] + '; Сдача с' + this.money.value.moneyval : dataOrder['comment'];\n    }\n    // let tmpDishes = this.cart.getAddedDishes();\n    let tmpDishes = this.addedDishes;\n    let products = [];\n    for (var key in tmpDishes) {\n      let isSlash = key.indexOf('/');\n      let id = '';\n      if(isSlash>0){\n        id = key.slice(0,isSlash);\n      } else {\n        id = key\n      }\n      products.push({\n        id: id,\n        count: tmpDishes[key]['quantity'],\n        modifiers: tmpDishes[key]['modifiers']\n      });\n    }\n    if(this.bonus.value.bonusvalform){\n      dataOrder['bonus_count']=this.bonus.value.bonusvalform;\n    }\n    dataOrder['products']=products;\n    // console.log(\"PRODUCTS\", products);\n    this.api.addApi('orders',dataOrder).then(result => {\n      console.log('ORDER',result);\n      if(result.hasOwnProperty('data')&& result['data']){\n        this.api.alertMessage('Спасибо!', '' +\n          'Номер заказа '+result['data']);\n      } else {\n        this.api.alertMessage('Искренне сожалеем,', '' +\n          'произошла ошибка при оформлении заказа. Попробуйте чуть позже.');\n      }\n      this.cart.clearCart();\n      this.navCtrl.navigateRoot('/');\n    });\n    // console.log('dataOrder',dataOrder);\n    // let dishesList = [];\n  }\n  checkOrder(){\n    console.log('checkOrder');\n    // console.log('this.isLoading', this.isLoading);\n    if (this.isLoading) {\n      return;\n    }\n    this.isLoading = true;\n    for (let control in this.sklad.controls) {\n      if (this.sklad.controls.hasOwnProperty(control)) {\n        this.sklad.controls[control].markAsTouched();\n      }\n    }\n    for (let control in this.deliv.controls) {\n      if (this.deliv.controls.hasOwnProperty(control)) {\n        this.deliv.controls[control].markAsTouched();\n      }\n    }\n    for (let control in this.oplata.controls) {\n      if (this.oplata.controls.hasOwnProperty(control)) {\n        this.oplata.controls[control].markAsTouched();\n      }\n    }\n    for (let control in this.money.controls) {\n      if (this.money.controls.hasOwnProperty(control)) {\n        this.money.controls[control].markAsTouched();\n      }\n    }\n    // for (let control in this.bonus.controls) {\n    //   if (this.bonus.controls.hasOwnProperty(control)) {\n    //     this.bonus.controls[control].markAsTouched();\n    //   }\n    // }\n    // console.log('this.sklad.status', this.sklad.status);\n    // console.log('this.sklad.contains', this.sklad.value);\n    // console.log('this.deliv.status', this.deliv.status);\n    // console.log('this.oplata.status', this.oplata.status);\n    // console.log('this.money.status', this.money.status);\n    if (this.sklad.status === 'INVALID') {\n      this.isLoading = false;\n      return;\n    }\n    if (this.deliv.status === 'INVALID') {\n      this.isLoading = false;\n      return;\n    }\n    if (this.oplata.status === 'INVALID') {\n      this.isLoading = false;\n      return;\n    }\n    if (this.money.status === 'INVALID') {\n      this.isLoading = false;\n      return;\n    }\n    // if (this.bonus.status === 'INVALID') {\n    //   this.isLoading = false;\n    //   return;\n    // }\n\n    let dataOrder = {};\n    dataOrder['source'] ='mobile-app';\n    if(this.promouse){\n      dataOrder['promocode'] =this.promouse;\n    }\n    dataOrder['client_phone'] =this.userphone;\n    dataOrder['client_id'] =this.userid;\n    dataOrder['deliveryType_id'] = this.deliv.value.delivery ? this.deliv.value.delivery : 1;\n    // dataOrder['count_devices'] = this.dopinfo.value.pribor;\n    // dataOrder['comment'] = this.dopinfo.value.comment ? this.dopinfo.value.comment : '';\n    if(this.deliv.value.delivery=='2'){\n      dataOrder['iiko_city_id'] = this.sklad.value.deliveryadr;\n      if(this.is_iiko){\n        console.log('this.sklad.value.iikostreet', this.sklad.value.iikostreet.id);\n        dataOrder['iiko_street_id'] = this.sklad.value.iikostreet.id;\n      } else {\n        dataOrder['iiko_street_id'] = this.sklad.value.delstreet;\n      }\n      // dataOrder['delivery_house'] = this.sklad.value.delhouse ? this.sklad.value.delhouse : '';\n      // dataOrder['delivery_apartment'] = this.sklad.value.delappart ? this.sklad.value.delappart : '';\n      // dataOrder['delivery_entrance'] = this.sklad.value.entrance ? this.sklad.value.entrance : '';\n      // dataOrder['delivery_floor'] = this.sklad.value.floor ? this.sklad.value.floor : '';\n    }\n    if(this.deliv.value.delivery=='1'){\n      dataOrder['iiko_city_id'] = this.sklad.value.skladname;;\n      dataOrder['iiko_cashbox_id'] = this.sklad.value.pointname;\n\n    }\n    dataOrder['iiko_payment_id'] = this.oplata.value.varpay;\n\n    // if(this.oplata.value.varpay=='1'){\n    //   dataOrder['comment'] = this.money.value.moneyval ? dataOrder['comment'] + '; Сдача с' + this.money.value.moneyval : dataOrder['comment'];\n    // }\n    // let tmpDishes = this.cart.getAddedDishes();\n    let tmpDishes = this.addedDishes;\n    let products = [];\n    for (var key in tmpDishes) {\n      let isSlash = key.indexOf('/');\n      let id = '';\n      if(isSlash>0){\n        id = key.slice(0,isSlash);\n      } else {\n        id = key\n      }\n      products.push({\n        id: id,\n        count: tmpDishes[key]['quantity'],\n        modifiers: tmpDishes[key]['modifiers']\n      });\n    }\n    if(this.bonus.value.bonusvalform){\n      dataOrder['bonus_count']=this.bonus.value.bonusvalform;\n    }\n    dataOrder['products']=products;\n    // console.log(\"PRODUCTS\", products);\n    this.api.calculateApi('orders',dataOrder).then(result => {\n      console.log('CALC',result);\n      // if(result.hasOwnProperty('data')&& result['data']){\n      //   this.api.alertMessage('Спасибо!', '' +\n      //     'Номер заказа '+result['data']);\n      // } else {\n      //   this.api.alertMessage('Искренне сожалеем,', '' +\n      //     'произошла ошибка при оформлении заказа. Попробуйте чуть позже.');\n      // }\n      // this.cart.clearCart();\n      // this.navCtrl.navigateRoot('/');\n    });\n    // console.log('dataOrder',dataOrder);\n    // let dishesList = [];\n  }\n  async sendKod() {\n  }\n    async errorSms(title:string = 'Ошибка!', text:string = '') {\n      const alert = await this.alertController.create({\n        header: title,\n        message: text,\n        cssClass: 'auth_mess',\n        buttons: [\n          {\n            text: 'На главную',\n            role: 'cancel',\n            cssClass: 'link_reg_home',\n            handler: () => {\n              this.navCtrl.navigateRoot('/');\n            }\n          },\n          {\n            text: 'Повторить',\n            cssClass: 'link_reg',\n            handler: () => {\n              window.location.reload();\n            }\n          }\n        ]\n      });\n      await alert.present();\n    }\n\n  async noUser() {\n    const alert = await this.alertController.create({\n      header: 'Пройдите регистрацию',\n      // message: this.config.regatxt,\n      buttons: [\n        {\n          text: 'Регистрация',\n          cssClass: 'link_reg',\n          handler: () => {\n            // window.location.href = this.config.urlRegasite;\n            // this.navCtrl.navigateRoot('/');\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}