{"version":3,"file":"src_app_editadres_editadres_module_ts.js","mappings":"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","sources":["./src/app/editadres/editadres-routing.module.ts","./src/app/editadres/editadres.module.ts","./src/app/editadres/editadres.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EditadresPage } from './editadres.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditadresPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditadresPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditadresPageRoutingModule } from './editadres-routing.module';\n\nimport { EditadresPage } from './editadres.page';\nimport {SharedModule} from \"../shared/shared.module\";\n\n@NgModule({\n  imports: [\n    SharedModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EditadresPageRoutingModule\n  ],\n  declarations: [EditadresPage]\n})\nexport class EditadresPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {ApiService} from '../services/api.service';\nimport {UseradrService} from '../services/useradr.service';\nimport {NavController} from \"@ionic/angular\";\nimport {FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {Storage} from '@ionic/storage-angular';\nimport {ActivatedRoute} from \"@angular/router\";\n\n@Component({\n  selector: 'app-editadres',\n  templateUrl: './editadres.page.html',\n  styleUrls: ['./editadres.page.scss'],\n})\nexport class EditadresPage implements OnInit {\n  private params;\n  public loggedIn = false;\n  public tit = \"Изменить\";\n  public userid = '';\n  constructor(\n    private api: ApiService,\n    private navCtrl: NavController,\n    private useradr: UseradrService,\n    // public alertController: AlertController,\n    private formBuilder: FormBuilder,\n    private storage: Storage,\n    private route: ActivatedRoute,\n  ) {\n    // this.storage.get('userphone').then(sid => {\n    //   this.loggedIn = !!sid;\n    //   // this.ordering.controls.phone.reset(this.usernumber);\n    //   console.log( 'EDITADRsid',sid);\n    //   console.log( 'EDITADRstorage',this.loggedIn);\n    // });\n    this.route.queryParams.subscribe(params => {\n      this.params = params;\n      if(this.params.tit){\n        this.tit = this.params.tit;\n      }\n      if(this.params.userid){\n        this.userid = this.params.userid;\n      }\n\n    });\n\n  }\n\n  private validationMessages = {\n    deliveryadr: [\n      {type: 'required', message: 'Введите данные'},\n      {type: 'minlength', message: 'Пока мало данных'},\n      {type: 'maxlength', message: 'Сильно большой текст!'},\n    ],\n    delstreet: [\n      {type: 'required', message: 'Введите данные'},\n      {type: 'minlength', message: 'Пока мало данных'},\n      {type: 'maxlength', message: 'Сильно большой текст!'},\n    ],\n    delhouse: [\n      {type: 'required', message: 'Введите данные'},\n      {type: 'maxlength', message: 'Сильно большой текст!'},\n    ],\n    delappart: [\n      {type: 'maxlength', message: 'Сильно большой текст!'},\n    ],\n    additionalInfo: [\n      {type: 'maxlength', message: 'Сильно большой текст!'}\n    ],\n  };\n  private changeadr: FormGroup;\n\n  ngOnInit() {\n    console.log('this.params',this.params);\n    this.changeadr = this.formBuilder.group({\n      deliveryadr: new FormControl('Альметьевск', [Validators.required, Validators.maxLength(60), Validators.minLength(4)]),\n      delstreet: new FormControl('', [Validators.required, Validators.maxLength(15), Validators.minLength(4)]),\n      delhouse: new FormControl('', [Validators.required,Validators.maxLength(4)]),\n      delappart: new FormControl('', [Validators.maxLength(4)]),\n      additionalInfo: new FormControl('', [Validators.maxLength(160)]),\n    });\n    // if(this.params.street){\n    //   this.changeadr.controls.delstreet.reset(this.params.street);\n    // }\n    // if(this.params.house){\n    //   this.changeadr.controls.delhouse.reset(this.params.house);\n    // }\n    // if(this.params.flat){\n    //   this.changeadr.controls.delappart.reset(this.params.flat);\n    // }\n\n  }\n  async changeAdr() {\n    if (!this.loggedIn) {\n      return;\n    }\n    for (let control in this.changeadr.controls) {\n      if (this.changeadr.controls.hasOwnProperty(control)) {\n        this.changeadr.controls[control].markAsTouched();\n      }\n    }\n    if (this.changeadr.status === 'INVALID') {\n      return;\n    }\n    let city = '';\n    let street = '';\n    let hous = '';\n    let appart = '';\n    let comment = '';\n    let dataorder = {};\n    city = this.changeadr.value.deliveryadr ? this.changeadr.value.deliveryadr : '';\n    street = this.changeadr.value.delstreet ? 'ул.'+this.changeadr.value.delstreet : '';\n    hous = this.changeadr.value.delhouse ? 'д.'+this.changeadr.value.delhouse : '';\n    appart = this.changeadr.value.delappart ? 'кв.'+this.changeadr.value.delappart : '';\n    comment = this.changeadr.value.additionalInfo ? this.changeadr.value.additionalInfo : '';\n\n    if(this.params.type == 'billing'){\n      dataorder = {\n        meta_data: [\n          {\n            key: 'billing_entrance',\n            value: this.changeadr.value.deliveryadr\n          },\n          {\n            key: 'billing_intercom',\n            value: this.changeadr.value.delstreet\n          },\n          {\n            key: 'billing_floor',\n            value: this.changeadr.value.delhouse\n          },\n          {\n            key: 'billing_apartment',\n            value: this.changeadr.value.delappart\n          },\n          {\n            key: 'billing_description',\n            value: this.changeadr.value.additionalInfo\n          }\n        ],\n      };\n    }\n    if(this.params.type == 'shipping') {\n      dataorder = {\n        meta_data: [\n          {\n            key: 'shipping_entrance',\n            value: this.changeadr.value.deliveryadr\n          },\n          {\n            key: 'shipping_intercom',\n            value: this.changeadr.value.delstreet\n          },\n          {\n            key: 'shipping_floor',\n            value: this.changeadr.value.delhouse\n          },\n          {\n            key: 'shipping_apartment',\n            value: this.changeadr.value.delappart\n          },\n          {\n            key: 'shipping_description',\n            value: this.changeadr.value.additionalInfo\n          }\n        ],\n      };\n    }\n\n    // this.api.changeAdrCustomer(this.params.userid, dataorder).then((res) => {\n    //   console.log('dataorder', dataorder);\n    //   if(res.hasOwnProperty('id')){\n    //     this.api.alertMessage('Адрес изменен.', '');\n    //     // this.navCtrl.back();\n    //     this.navCtrl.navigateRoot('/profile?edit=1');\n    //   } else {\n    //     this.api.alertMessage('Искренне сожалеем,', 'произошла ошибка. Попробуйте чуть позже.');\n    //   }\n    //   console.log('UPDATE adr', res);\n    // });\n  }\n  public  goBack(){\n    this.navCtrl.back();\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}